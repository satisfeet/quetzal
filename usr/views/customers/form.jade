extends layout

block modal
  - customer = flash.customer || customer || {}
  - address = customer.address || {}
  form(
    role='form',
    method='POST'
    action='/customers/' + (customer.id || '')
  )
    if (flash.error)
      p.alert.alert-danger= flash.error
    fieldset
      if (customer.id)
        input(
          type='hidden',
          name='_method',
          value='PUT'
        )
        input(
          type='hidden',
          name='id',
          value=customer.id
        )
      div.col-xs-10.col-xs-offset-1
        div.form-group
          label.control-label(for='name')
            | Name
          input.form-control(
            name='name',
            type='text',
            value=customer.name,
            placeholder='Max Mustermann',
            required
          )
        div.form-group
          label(for='email')
            | Email
          input.form-control(
            name='email',
            type='email',
            value=customer.email,
            placeholder='info@example.com',
            required
          )
        div.form-group
          label(for='street')
            | Street
          input.form-control(
            name='address[street]',
            type='text',
            value=address.street,
            placeholder='Hauptstraße 1'
          )
        div.form-group
          label(for='city')
            | City
          input.form-control(
            name='address[city]',
            type='text',
            value=address.city,
            placeholder='Berlin'
          )
        div.form-group
          label(for='zip')
            | Zip
          input.form-control(
            name='address[zip]',
            type='number',
            value=address.zip,
            placeholder='10000',
            min='10000',
            max='99999'
          )
        div.btn-group.pull-right
          button.btn.btn-primary(type='submit')
            span.glyphicon.glyphicon-ok
              | Submit
          a.btn.btn-default(
            href='/customers' + ((customer.id && '/' + customer.id) || '')
          )
            span.glyphicon.glyphicon-remove
              | Cancel
